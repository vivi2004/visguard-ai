{"version":3,"file":"HttpApiClient.js","names":["Context","Effect","identity","globalValue","Option","ParseResult","Schema","HttpApi","HttpApiSchema","HttpBody","HttpClient","HttpClientError","HttpClientRequest","HttpClientResponse","HttpMethod","UrlParams","makeClient","api","options","gen","context","httpClient","pipe","baseUrl","undefined","mapRequest","prependUrl","toString","transformClient","reflect","predicate","onGroup","onGroupOptions","onEndpoint","onEndpointOptions","endpoint","errors","successes","makeUrl","compilePath","path","decodeMap","orElse","statusOrElse","decodeResponse","matchStatus","forEach","ast","status","_tag","statusCodeError","decode","schemaToResponse","value","response","flatMap","fail","responseAsVoid","encodePayloadBody","payloadSchema","map","schema","hasBody","method","encodeUnknown","payloadSchemaBody","encodeHeaders","headersSchema","encodeUrlParams","urlParamsSchema","endpointFn","request","httpRequest","make","payload","FormData","bodyFormData","body","setBody","urlParams","setUrlParams","setHeaders","headers","appendUrlParams","execute","transformResponse","withResponse","mapInputContext","input","merge","client","group","topLevel","identifier","name","groupId","groupName","endpointName","paramsRegex","segments","split","len","length","_","params","url","i","encoding","getEncoding","decodeUnknown","kind","responseJson","schemaBodyUrlParams","arrayBuffer","buffer","Uint8Array","text","void","try","JSON","parse","catch","cause","ResponseError","reason","_response","HttpBodyFromSelf","declare","isHttpBody","members","types","Union","bodyFromPayload","bodyFromPayloadCache","WeakMap","has","get","transform","transformOrFail","fromA","Forbidden","encode","toI","json","mapError","error","Type","succeed","fromInput","uint8Array","set"],"sources":["../../src/HttpApiClient.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}