{"version":3,"file":"Ndjson.js","names":["TypeIdError","Channel","Chunk","Effect","dual","identity","ChannelSchema","ErrorTypeId","Symbol","for","encoder","TextEncoder","NdjsonError","message","reason","packString","loop","readWithCause","onInput","input","zipRight","flatMap","try","of","toReadonlyArray","map","_","JSON","stringify","join","catch","cause","write","onFailure","failCause","onDone","succeed","pack","mapOut","encode","packSchema","schema","pipeTo","packSchemaString","filterEmpty","filter","line","length","filterEmptyChannel","filtered","isEmpty","void","done","unpackString","options","lines","splitLines","pipe","ignoreEmptyLines","mapOutEffect","chunk","parse","decodeString","decoder","TextDecoder","decode","unpack","unpackSchema","decodeUnknown","unpackSchemaString","duplex","args","isChannel","self","duplexString","duplexSchema","duplexUnknown","duplexSchemaString"],"sources":["../../src/Ndjson.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}