{"version":3,"file":"platformConfigProvider.js","names":["FileSystem","ConfigProvider","Context","DefaultServices","Effect","FiberRef","Layer","fromDotEnv","path","config","gen","fs","content","readFileString","obj","parseDotEnv","fromMap","Map","Object","entries","assign","pathDelim","seqDelim","layerDotEnv","pipe","map","setConfigProvider","unwrapEffect","layerDotEnvAdd","dotEnvConfigProvider","orElseSucceed","logDebug","empty","currentConfigProvider","get","currentServices","services","configProvider","orElse","DOT_ENV_LINE","lines","replace","match","exec","key","value","trim","maybeQuote","expand","parsed","newParsed","configKey","interpolate","envValue","lastUnescapedDollarSignIndex","searchLast","rightMostGroup","slice","matchGroup","_","group","variableName","defaultValue","str","rgx","matches","Array","from","matchAll","length","index"],"sources":["../../../src/internal/platformConfigProvider.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}