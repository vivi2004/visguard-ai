{"version":3,"file":"Ndjson.js","names":["_Error","require","Channel","_interopRequireWildcard","Chunk","Effect","_Function","ChannelSchema","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","ErrorTypeId","exports","Symbol","for","encoder","TextEncoder","NdjsonError","TypeIdError","message","reason","packString","loop","readWithCause","onInput","input","zipRight","flatMap","try","of","toReadonlyArray","map","_","JSON","stringify","join","catch","cause","write","onFailure","failCause","onDone","succeed","pack","mapOut","encode","packSchema","schema","pipeTo","packSchemaString","filterEmpty","filter","line","length","filterEmptyChannel","filtered","isEmpty","void","done","unpackString","options","lines","splitLines","pipe","ignoreEmptyLines","identity","mapOutEffect","chunk","parse","decodeString","decoder","TextDecoder","decode","unpack","unpackSchema","decodeUnknown","unpackSchemaString","duplex","dual","args","isChannel","self","duplexString","duplexSchema","duplexUnknown","duplexSchemaString"],"sources":["../../src/Ndjson.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}