{"version":3,"file":"HttpApi.js","names":["Context","Option","pipeArguments","Predicate","Record","AST","HttpApiDecodeError","HttpApiSchema","TypeId","Symbol","for","isHttpApi","u","hasProperty","Api","Tag","Proto","pipe","arguments","add","group","makeProto","identifier","groups","set","errorSchema","annotations","middlewares","addHttpApi","api","newGroups","key","newGroup","annotateContext","empty","merge","Set","UnionUnify","addError","schema","status","prefix","map","middleware","tag","failure","annotate","value","context","options","HttpApi","Object","setPrototypeOf","make","Map","reflect","self","apiErrors","extractMembers","ast","getStatusErrorAST","values","groupErrors","groupAnnotations","onGroup","mergedAnnotations","endpoints","endpoint","predicate","errors","onEndpoint","payloads","payloadSchema","_tag","extractPayloads","emptyMap","successes","successSchema","getStatusSuccessAST","inherited","getStatus","members","process","type","isNeverKeyword","extractAnnotations","isEmptyRecord","emptyDecodeable","getEmptyDecodeable","current","get","description","none","orElse","getDescriptionOrIdentifier","UnionUnifyAST","isVoidKeyword","encodedAST","some","extractUnionTypes","forEach","topAst","encoding","getEncoding","contentType","getMultipart","undefined","Union","types","to","fromNullable","DescriptionAnnotationId","IdentifierAnnotationId","AdditionalSchemas"],"sources":["../../src/HttpApi.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}